!function(){Array.prototype.map||(Array.prototype.map=function(t,e){var r,o,n;if(null==this)throw new TypeError(" this is null or not defined");var a=Object(this),i=a.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(r=e),o=new Array(i),n=0;i>n;){var c,s;n in a&&(c=a[n],s=t.call(r,c,n,a),o[n]=s),n++}return o});var t=function(){this.from_object=function(t){var e=[];if("object"!=typeof t)throw new Error("Param to be serializer isnt a object");for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];e.push(encodeURIComponent(r)+"="+encodeURIComponent(null==o?"":o))}return e.join("&").replace(/%20/g,"+")},this.from_form=function(t){var e=document.forms[t],r={};for(var o in e.elements)void 0!==e.elements[o].type&&(r[e.elements[o].name]=e.elements[o].value);return this.from_object(r)},this.to_json=function(t){return JSON.stringify(t)}},e=angular.module("votolegal",["ngMask","ngSanitize"]);e.config(["$httpProvider",function(t){delete t.defaults.headers.common["X-Requested-With"],t.defaults.headers.common["Content-Type"]="application/x-www-form-urlencoded"}]),e.filter("unsafe",["$sce",function(t){return function(e){return t.trustAsHtml(e)}}]),e.factory("postmon",["$http",function(t){return function(e){return t.get("http://api.postmon.com.br/v1/cep/"+e,{cache:!1})}}]),e.factory("serialize",function(){return new t}),e.controller("PreCadastroController",["$scope","$http","postmon","serialize",function(t,e,r,o){t.candidate={},t.register_params=function(){return t.candidate},t.create=function(){var r=t.register_params();return e({method:"POST",url:"http://45.55.50.43/api/register",data:o.from_object(r),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){t.data;return console.debug("SUCCESS"),!1},function(e){var r=e.data.form_error;console.log(r);var o=function(t){return document.querySelector("form[name=candidateForm] *[name="+t+"]")},n=function(t){var e={missing:" n\xe3o foi preenchido.","already exists":" j\xe1 foi cadastrado.",invalid:" est\xe1 inv\xe1lido."};return e[t]};t.error_list=[];for(var a in r){var i=o(a).attributes.placeholder.value;t.error_list.push(i+n(r[a]))}throw new Error("ERROR_POST_NEW_CADIDATE")}),!1},t.address_by_zipcode=function(){var e=t.candidate.address_zipcode;return 9==e.length&&r(e).then(function(e){var r=e.data,o=t.candidate;o.address_city=r.cidade,o.address_state=r.estado_info.nome,r.bairro&&r.logradouro&&(o.address_street=r.logradouro+" - "+r.bairro)},function(){throw swal({title:"Problemas ao carregar os dados do CEP!",text:"Ocorreu um erro ao tentar carregar os dados de sua localidade. Por gentileza preencha os campos manualmente."}),new Exception("ERROR_GET_ZIPCODE")}),!1},t.load_parties=function(){e.get("http://45.55.50.43/api/party").then(function(e){t.party_list=e.data.party},function(){throw t.party_list=[],new Exception("ERROR_GET_PARTY_LIST")})},t.load_offices=function(){e.get("http://45.55.50.43/api/office").then(function(e){t.office_list=e.data.office},function(){throw t.office_list=[],new Exception("ERROR_GET_OFFICE_LIST")})},t.reset=function(){t.candidate={}},t.load_offices(),t.load_parties()}]),e.controller("ContatoController",["$scope","$http","serialize",function(t,e,r){t.message={},t.message_params=function(){return t.message},t.create=function(){var o=t.message_params();return e({method:"POST",url:"http://45.55.50.43/api/contact",data:r.from_object(o),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){t.data;return document.location="/contato/success",!1},function(e){var r=e.data.form_error,o=function(t){return document.querySelector("form[name=contactForm] *[name="+t+"]")},n=function(t){var e={missing:" n\xe3o foi preenchido.","already exists":" j\xe1 foi cadastrado.",invalid:" est\xe1 inv\xe1lido."};return e[t]};t.error_list=[];for(var a in r){var i=o(a).attributes.placeholder.value;t.error_list.push(i+n(r[a]))}throw new Error("ERROR_POST_NEW_CONTACT")}),!1}}]),e.controller("FaqController",["$scope","$sce",function(t){t.faq_list=faq_list,t.search_answer=function(e){var r=faq_list.map(function(t){return t.title.match(new RegExp(e,"ig"))||t.content.match(new RegExp(e,"gi"))?t:void 0}),o=function(t){var e=[];for(var r in t)void 0!==t[r]&&e.push(t[r]);return e};return t.faq_list=o(r),!1}}])}();