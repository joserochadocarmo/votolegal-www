app.votolegal.controller("AuthController",["$scope","auth_service",function(r,n){r.signin={},r.error_list=[],r.signin_params=function(){return r.signin},r.authenticate=function(){var i=r.signin_params();return n.authenticate(i.email,i.password).then(function(r){var i=r.data,e=n.session();if(e.set(n.session_key,{id:i.user_id,api_key:i.api_key}),0==i.roles.length)return document.location="/admin/signin",!1;for(var o in i.roles)"admin"===i.roles[o]&&(document.location="/admin");return!1},function(n){r.error_list=[];var i=n.data;if(i.form_error){var i=i.form_error,e=function(r){return document.querySelector("form[name=signinForm] *[name="+r+"]")},o=function(r){var n={missing:" n\xe3o foi preenchido.",invalid:" est\xe1 inv\xe1lido."};return n[r]};for(var a in i){var t=e(a).attributes.placeholder.value;r.error_list.push(t+o(i[a]))}}else{var o=function(r){var n={missing:" n\xe3o foi preenchido.",invalid:" est\xe1 inv\xe1lido.","Bad email or password.":"E-mail ou senha inv\xe1lidos."};return n[r]};r.error_list.push(o(i.error))}throw console.log(n),new Error("ERROR_AUTH_USER")}),!1},n.validate_user()}]);