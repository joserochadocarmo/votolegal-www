document.location.href.indexOf("/cadastro-completo")>=0&&app.votolegal.config(["$routeProvider",function(e){e.when("/dados-pessoais",{templateUrl:"/javascripts/app/view/cadastro/dados-pessoais.tmpl",controller:"CadastroController"}).when("/dados-campanha",{templateUrl:"/javascripts/app/view/cadastro/dados-campanha.tmpl",controller:"CadastroController"}).when("/projetos",{templateUrl:"/javascripts/app/view/cadastro/projetos.tmpl",controller:"CadastroController"}).otherwise({redirectTo:"/dados-pessoais"})}]),app.votolegal.controller("CadastroController",["$scope","$http","$location","auth_service","serialize",function(e,t,a,r,o){e.issues={},e.candidate={},e.projects=[1,2,3,4].map(function(){return{title:"",description:""}}),e.tabname="",e.submit_disabled=!1,e.progress={percent:0},e.issue_list=[],e.register_params=function(){return e.candidate},e.update=function(){var a=e.register_params();e.error_list=[];var s=r.current_user();return a.api_key=s.api_key,e.submit_disabled=!0,t.put("/api/candidate/"+s.id,o.from_object(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}),!1},e._get_candidate=function(){var a=e.register_params(),s=r.current_user();return a.api_key=s.api_key,t.get("/api/candidate/"+s.id,o.from_object(a)).then(function(t){var a=t.data.candidate;e.candidate=a},function(e){console.log(e)}),!1},e.count_checked=function(t){var a=e.issue_list.filter(function(e){return e.selected?!0:void 0});a.length>4&&(t.i.selected=!1,swal("Selecione apena 4 assuntos"))},e.add_project=function(){return e.projects.push({title:"",description:""}),!1},e.get_issues_priority=function(){t.get("/api/issue_priority").then(function(t){var a=t.data.issue_priority;e.issue_list=a},function(){throw new Error("ERROR_GET_ISSUE_PRIORITY")})},e._get_tabname=function(){var e=a.path();return"/dados-pessoais"==e?"pessoal":"/dados-campanha"==e?"campanha":"/projetos"==e?"projetos":void 0},r.validate_user({role:"user"}),e.tabname=e._get_tabname(),e._get_candidate(),e.get_issues_priority(),console.log(e.tabname)}]);