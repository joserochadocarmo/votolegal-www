app.votolegal.controller("DonationHistoryController",["$scope","$http","$sce","serialize","auth_service","SweetAlert","trouble","postmon",function(e,o,t,s,r,a,i){document.querySelector("#loading");e.user=r.current_user(),e.error_list=[],e.donations=[],e.history_list=function(t){var s=document.querySelector("#donations-table"),r=document.querySelector("#loading-donations"),d=document.querySelector("#donations-error");d&&d.classList.add("hide"),s&&(s.classList.add("hide"),r&&r.classList.remove("hide"));try{o({method:"GET",url:"/api/candidate/"+t.id+"/donate?api_key="+t.api_key}).then(function(o){var t=o.data.donations;e.donations=t,s&&(r&&r.classList.add("hide"),s.classList.remove("hide"))},function(e){throw s&&(r&&r.classList.add("hide"),s.classList.remove("hide")),i.shoot({route:document.location.href,error:JSON.stringify(e)}),a.swal("Falha no carregamento dos dados","N\xe3o foi poss\xedvel carregar os dados de doa\xe7\xf5es."),new Error("Donation list is invalid or cannot be found!")})}catch(n){s&&(r&&r.classList.add("hide"),s.classList.remove("hide"))}},r.validate_user({role:"user"}),e.history_list(e.user)}]);