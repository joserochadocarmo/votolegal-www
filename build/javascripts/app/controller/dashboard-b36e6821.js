app.votolegal.controller("DashboardController",["$scope","$http","auth_service","serialize","SweetAlert",function(e,t,a,r,o){e.list=[],e.approval_list=function(){var r=a.current_user();return t.get("/api/admin/candidate/list?api_key="+r.api_key).then(function(t){var a=t.data;e.list=a},function(e){var t=e.data;"access denied"===t.error&&(document.location=a.sign_page)}),!1},e.allow=function(r){var n=a.current_user();return o.swal({title:"Tem certeza?",text:"Voc\xea tem certeza que deseja autorizar este pr\xe9-candidato?",showCancelButton:!0,confirmButtonText:"Sim",cancelButtonText:"N\xe3o",closeOnConfirm:!1,closeOnCancel:!0},function(a){a&&t({method:"PUT",url:"/api/admin/candidate/"+r.id+"/activate?api_key="+n.api_key}).then(function(){o.swal({title:"Aprovado!",text:"O pr\xe9-candidato foi aprovado para utilizar o sistema!"}),e.approval_list()},function(e){var t=e.data;o.swal(error_msg(t.error))})}),!1},e.deny=function(r){var n=a.current_user();return o.swal({title:"Tem certeza?",text:"Voc\xea tem certeza que deseja rejeitar este pr\xe9-candidato?",showCancelButton:!0,confirmButtonText:"Sim",cancelButtonText:"N\xe3o",closeOnConfirm:!1,closeOnCancel:!0},function(a){a&&t({method:"PUT",url:"/api/admin/candidate/"+r.id+"/deactivate?api_key="+n.api_key}).then(function(){o.swal({title:"Rejeitado!",text:"O pr\xe9-candidato foi rejeitado com sucesso!"}),e.approval_list()},function(e){var t=e.data;o.swal(error_msg(t.error))})}),!1},a.validate_user({role:"admin"}),e.approval_list()}]);