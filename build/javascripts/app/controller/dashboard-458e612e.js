app.votolegal.controller("DashboardController",["$scope","$http","auth_service","serialize",function(a,r,e){a.list=[],a.approval_list=function(){var t=e.current_user();r({method:"GET",url:"/api/admin/candidate/list?api_key="+t.api_key}).then(function(r){var e=r.data;return a.list=e,!1},function(a){var r=a.data;return"access denied"===r.error&&(document.location=e.sign_page),!1})},a.allow=function(t){var n=e.current_user();return r({method:"PUT",url:"/api/admin/candidate/"+t.id+"/activate?api_key="+n.api_key}).then(function(){swal("Pr\xe9-candidato aprovado com sucesso"),a.approval_list()},function(a){var r=a.data;swal(error_msg(r.error))}),!1},a.deny=function(t){var n=e.current_user();return r({method:"PUT",url:"/api/admin/candidate/"+t.id+"/deactivate?api_key="+n.api_key}).then(function(){return swal("Pr\xe9-candidato rejeitado com sucesso"),a.approval_list(),!1},function(a){var r=a.data;return swal(error_msg(r.error)),!1}),!1},a.approval_list(),e.validate_user({role:"admin"})}]);