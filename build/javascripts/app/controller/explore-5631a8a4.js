app.votolegal.controller("ExploreController",["$scope","$http","auth_service","serialize","SweetAlert","trouble",function(t,e,r,a,o,i){t.list=[],t.party_list=[],t.term="",t.party={id:0,acronym:"Partido"},t.typesearch="Nome",t.redirect_to=function(t){if(t.website_url.length>0){var e=window.open(t.website_url,"_blank");return e.focus(),!1}return o.swal("Website n\xe3o definido","Este candidato n\xe3o configurou nenhum website para acesso."),!1},t.set_typesearch=function(e){t.typesearch=e},t.set_party=function(e){t.party=e},t.load_parties=function(){e.get("/api/party").then(function(e){t.party_list=e.data.party;for(var r in t.party_list)t.party_list[r].id==t.party.id&&(t.party=t.party_list[r])},function(){throw t.party_list=[],new Error("ERROR_GET_PARTY_LIST")})},t.load_list=function(r){var n={name:r};switch(t.typesearch){case"Nome":n.name=r;break;case"Cidade":n.address_city=r}return n.party_id=s,e({method:"post",url:"/api/search?results=9999",data:a.from_object(n),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){t.list=e.data},function(t){t.data;o.swal("Erro inesperado","N\xe3o foi possivel carregar a lista de usu\xe1rios!"),i({route:document.location.href,error:JSON.stringify(t)})}),!1};var n=URI.query("q")||void 0;t.term=n;var s=URI.query("party")||0;t.party.id=s,t.typesearch=URI.query("type")||"Nome",t.load_parties(),t.load_list(n)}]);