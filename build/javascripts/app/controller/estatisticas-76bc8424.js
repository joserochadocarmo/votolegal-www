(function(){var t=function(t,o){return function(){return t.apply(o,arguments)}};this.VotoLegal=this.VotoLegal||{},VotoLegal.Estatisticas=function(){function o(o){this.options=null!=o?o:{},this._makeCharts=t(this._makeCharts,this),this.make(),this.load()}return o.prototype.make=function(){return this.elementClass="section#estatistica",this.$element=$(this.elementClass)},o.prototype.load=function(t){var o,e,a;null==t&&(t={}),o=$("#loading").css({display:"block"});try{return $.ajax({method:"GET",url:"/javascripts/mock/depth.json",dataType:"json"}).then(function(t){return function(o){return t._makeCharts(o.donators)}}(this),function(){return function(){return swal("N\xe3o foi poss\xedvel carregar os dados dos graficos!")}}(this))}catch(a){return e=a,console.error(e)}finally{o.fadeOut("slow")}},o.prototype._makeCharts=function(t){var o,e,a,s,n,r,l;for(console.log(t),o={labels:["Agosto","Setembro"],datasets:[{label:"Doadores",backgroundColor:"#662e91",data:[]}]},a=0,r=t.length;r>a;a++)s=t[a],o.datasets[0].data.push(s.count);for(new VotoLegal.Components.DoadoresChart({el:"canvas-doadores",data:o,type:"donators"}),e={labels:["Agosto","Setembro"],datasets:[{label:"R$",backgroundColor:"#fece6a",data:[]}]},n=0,l=t.length;l>n;n++)s=t[n],e.datasets[0].data.push(parseFloat(s.amount/100).toFixed(2)||0);return new VotoLegal.Components.DoadoresChart({el:"canvas-valor",data:e,type:"amounts"})},o}(),this.VotoLegal=this.VotoLegal||{},this.VotoLegal.Components=this.VotoLegal.Components||{},VotoLegal.Components.DoadoresChart=function(){function t(t){this.options=null!=t?t:{},this.process()}return t.prototype.process=function(){var t,o,e,a;try{return t=document.getElementById(this.options.el||"").getContext("2d"),a=new Chart(t,{type:"bar",data:this.options.data||{},options:{scales:{xAxes:[{gridLines:{display:!1}}],yAxes:[{display:!1,gridLines:{display:!1}}]},title:{display:!1},responsive:!0,legend:{display:!1}}})}catch(e){return o=e,console.error(o)}},t}(),$(function(){var t,o,e,a,s;return a=document.location.href,a.match(/votolegal.org.br\/estatistica/i)?void 0:(t=$("body"),e=t.data("controller"),o=t.data("action"),console.log(e),s=new VotoLegal[e])})}).call(this);